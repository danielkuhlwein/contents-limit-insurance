<!-- Loading State -->
<div *ngIf="loading$ | async" class="m-12">
  <mat-spinner mode="indeterminate" [diameter]="40" class="m-auto"> </mat-spinner>
</div>

<!-- Form -->
<div *ngIf="!(loading$ | async)" class="flex flex-col m-4">
  <div class="flex flex-col" [formGroup]="form">
    <mat-form-field>
      <mat-label>Category</mat-label>
      <mat-select formControlName="category">
        <mat-option *ngFor="let category of categories$ | async" [value]="category">
          {{ category.name }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Name</mat-label>
      <input matInput formControlName="name" maxLength="50" />
    </mat-form-field>
    <mat-form-field>
      <mat-icon matPrefix>attach_money</mat-icon>
      <mat-label>Value</mat-label>
      <input matInput type="number" formControlName="value" min="0" max="1000000" />
      <mat-error>Max Value: 1,000,000</mat-error>
    </mat-form-field>
  </div>

  <div class="ml-auto">
    <button mat-flat-button mat-dialog-close>Cancel</button>
    <button mat-flat-button color="primary" class="ml-3" (click)="addItem()">Add</button>
  </div>
</div>
